<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script src="lib/jquery.js"></script>
    <script src="lib/jquery.ui.widget.js"></script>
    <script src="lib/jquery.iframe-transport.js"></script>
    <script src="lib/jquery.fileupload.js"></script>

    <style>
        .bar {
            height: 18px;
        }
    </style>
</head>
<body>

    <input id="fileupload" type="file" name="file" accept="image/jpg,image/jpeg,image/png" data-url="http://192.168.0.100/demo.php" multiple>


    <progress id="progress" class="pro-val" value="0" max="100"></progress>
    <span class="bar"></span>

    <script>

        $(function () {
            $('#fileupload').fileupload({
                dataType: 'json',
                // 上传完成后的执行逻辑
                /*add:function(e,data){

                    console.log(e)
                    console.log(data)
                },*/
                done: function (e, data) {
                    /*$.each(data.result.files,function (index, file) {
                        $('<p/>').text(file.name).appendTo(document.body);
                    });*/

                },
                //上传过程中的回调函数
                progressall: function (e, data) {

                    var progress = parseInt(data.loaded / data.total * 100, 10);

                    $(".bar").text(progress + '%');

                    $('#progress').val(progress);

                },
                //autoUpload:true,
            });

        });
    </script>

</body>
</html>
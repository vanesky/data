<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="../../lib/reset.css">
    <link rel="stylesheet" href="../../lib/com-base.css">

    <link rel="stylesheet" href="../select/com-select.css">
    <link rel="stylesheet" href="../radio/com-radio.css">
    <link rel="stylesheet" href="../check/com-check.css">
    <link rel="stylesheet" href="../../message/com-message.css">
    <style>
        .form{width:300px;}

        .form-content{
            margin-left:80px;
        }

        .com-radio,.com-check{
            padding:5px 0;
        }

        .sub{
            padding:8px 30px;
            background-color: #14a3a4;
            border-radius: 5px;
            color:#fff;
        }

        form .error{
            color:red;
        }
    </style>
</head>
<body>

<div class="demo clearfix">

    <label class="form-group">
        <input class="form-input" type="text">
    </label>

    <!--form-->
    <form class="form mt50">

        <div class="form-item">
            <label class="form-title">姓名：</label>
            <div class="form-content">
                <input name="name" class="form-input" type="text">
            </div>
        </div>

        <div class="form-item">
            <label class="form-title">年龄：</label>
            <div class="form-content">
                <input name="age" class="form-input" type="text">
            </div>
        </div>

        <div class="form-item">
            <label class="form-title">性别：</label>
            <!-- component -->
            <div class="form-content">
                <section id="radio-1" class="com-radio">
                    <label>
                        <input name="sex" type="radio" value="男">
                        <span data-name="radioBox" class="radio-box"></span>
                        <span>男</span>
                    </label>

                    <label class="ml10">
                        <input name="sex" type="radio" value="女">
                        <span data-name="radioBox" class="radio-box"></span>
                        <span>女</span>
                    </label>
                </section>
            </div>
        </div>

        <div class="form-item">
            <label class="form-title">喜欢：</label>
            <div class="form-content">
                <section class="com-check">
                    <label data-name="checkAll">
                        <i data-name="allCheck" class="check-box"></i>
                        <span>全选</span>
                    </label>

                    <label class="ml10">
                        <i data-name="checkBox" class="check-box"></i>
                        <span>香蕉</span>
                        <input name="like" type="checkbox" value="banana">
                    </label>

                    <label class="ml5">
                        <i data-name="checkBox" class="check-box"></i>
                        <span>苹果</span>
                        <input name="like" type="checkbox" value="apple">
                    </label>
                </section>
            </div>
        </div>

        <div class="form-item">
            <label class="form-title">兴趣：</label>
            <div class="form-content">
                <!-- component -->
                <section class="com-select">
                    <label class="sel-item">
                        <input class="sel-head" type="text" readonly placeholder="请选择"/>
                        <input name="interest" type="hidden">
                    </label>
                    <ul class="sel-content">
                        <li data-val="1" class="sel-list">篮球</li>
                        <li data-val="2" class="sel-list">足球</li>
                        <li data-val="3" class="sel-list">羽毛球</li>
                    </ul>
                </section>
            </div>
        </div>

        <div class="form-item">
            <label class="form-title">留言：</label>
            <div class="form-content">
                <textarea name="message" id=""></textarea>
            </div>
        </div>
    </form>

    <span class="sub">提交</span>

</div>

<select name="" id="t">
    <option value="1">1</option>
    <option value="2">2</option>
</select>

<script src="../../lib/jquery.js"></script>
<script src="../select/com-select.js"></script>
<script src="../radio/com-radio.js"></script>
<script src="../check/com-check.js"></script>

<script src="../../message/com-message.js"></script>

<script src="/data/base/src/js/validate.js"></script>
<script>

    //组件数据渲染
    var data = [
        {val:1,name:'jack'},
        {val:2,name:'lisa'}
    ];

    //实例化组件
    $('.com-select').comSelect();

    $('.com-radio').comRadio();

    $('.com-check').comCheck();


    var form = $('form');

    var validate = {

        rules:{

            name:{require:true,nameRule:true},

            age:{require:true,textRule:false},

            sex:{require:true},

            like:{require:true},

            interest:{require:true},

            message:{require:true}

        },
        prompt:{

            name:{require:'请填写您的称呼',nameRule:'称呼需是2-6位的文字'},

            age:{require:'请输入年龄',textRule:'留言至少5个字符哦'},

            sex:{require:'请选择性别',textRule:false},

            like:{require:'请选择喜欢水果'},

            interest:{require:'请选择爱好'},

            message:{require:'请填写简介信息'}
        }
    };


    window.validateMethod({
        //表单对象
        formName:form,
        //验证规则
        validate:validate,
        //提交按钮dom
        submit:'.sub',
        //是否开起提示
        prompt:false,
        //提示信息要插入的地方
        promptBox:'',
        //要触发校验的元素
        evList:[
            {
                key:'.sel-list',
                name:'interest'
            },
            {
                key:'[data-name="checkAll"]',
                name:'like'
            }
        ]

    },function(arr){   //prompt参数【true(验证全部通过后的回调函数) false(返回验证失败的内容数组对象)】

        console.log(arr)
        ///form.submit()

    });



</script>
</body>
</html>